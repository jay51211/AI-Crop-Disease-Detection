DISEASE_INFO = {

# ===== APPLE =====
"Apple___Apple_scab": {
"summary": "Apple scab causes dark, rough lesions on apple leaves and fruits, reducing quality.",
"causes": "Fungal pathogen Venturia inaequalis, favored by cool and wet weather.",
"treatment": "Apply fungicides such as captan or mancozeb.",
"prevention": "Use resistant varieties and ensure good air circulation."
},

"Apple___Black_rot": {
"summary": "Black rot leads to leaf spots, fruit rot, and cankers on apple trees.",
"causes": "Caused by Botryosphaeria obtusa fungus.",
"treatment": "Prune infected parts and apply fungicides.",
"prevention": "Remove dead wood and maintain orchard hygiene."
},

"Apple___Cedar_apple_rust": {
"summary": "Cedar apple rust produces yellow-orange spots on apple leaves.",
"causes": "Caused by Gymnosporangium fungus requiring cedar trees.",
"treatment": "Apply fungicides early in season.",
"prevention": "Remove nearby cedar trees and use resistant cultivars."
},

"Apple___healthy": {
"summary": "Apple leaf is healthy with no disease symptoms.",
"causes": "No infection detected.",
"treatment": "No treatment required.",
"prevention": "Maintain proper nutrition and irrigation."
},

# ===== BLUEBERRY =====
"Blueberry___healthy": {
"summary": "Blueberry leaf is healthy and free from disease.",
"causes": "Healthy plant growth.",
"treatment": "No treatment required.",
"prevention": "Ensure proper soil drainage and pruning."
},

# ===== CHERRY =====
"Cherry_(including_sour)___Powdery_mildew": {
"summary": "Powdery mildew causes white powdery growth on cherry leaves.",
"causes": "Fungal infection under warm and dry conditions.",
"treatment": "Apply sulfur or systemic fungicides.",
"prevention": "Improve air circulation and avoid excess nitrogen."
},

"Cherry_(including_sour)___healthy": {
"summary": "Cherry leaf shows no disease symptoms.",
"causes": "Healthy tissue.",
"treatment": "No treatment required.",
"prevention": "Regular monitoring."
},

# ===== CORN =====
"Corn_(maize)___Cercospora_leaf_spot Gray_leaf_spot": {
"summary": "Gray leaf spot causes rectangular gray lesions on maize leaves.",
"causes": "Fungal pathogen Cercospora.",
"treatment": "Apply fungicides if severe.",
"prevention": "Crop rotation and residue management."
},

"Corn_(maize)___Common_rust_": {
"summary": "Common rust produces reddish-brown pustules on maize leaves.",
"causes": "Puccinia sorghi fungus.",
"treatment": "Use fungicides if needed.",
"prevention": "Grow resistant hybrids."
},

"Corn_(maize)___Northern_Leaf_Blight": {
"summary": "Northern leaf blight causes long gray-green lesions on leaves.",
"causes": "Exserohilum turcicum fungus.",
"treatment": "Apply fungicides early.",
"prevention": "Use resistant varieties."
},

"Corn_(maize)___healthy": {
"summary": "Corn leaf is healthy and green.",
"causes": "No disease present.",
"treatment": "No treatment required.",
"prevention": "Maintain soil fertility."
},

# ===== GRAPE =====
"Grape___Black_rot": {
"summary": "Black rot causes brown circular spots and fruit decay in grapes.",
"causes": "Guignardia bidwellii fungus.",
"treatment": "Apply fungicides and remove infected tissue.",
"prevention": "Improve vineyard sanitation."
},

"Grape___Esca_(Black_Measles)": {
"summary": "Esca causes leaf discoloration and internal wood decay.",
"causes": "Complex fungal infection.",
"treatment": "Remove infected vines.",
"prevention": "Avoid pruning injuries."
},

"Grape___Leaf_blight_(Isariopsis_Leaf_Spot)": {
"summary": "Leaf blight causes brown irregular leaf spots.",
"causes": "Isariopsis fungal species.",
"treatment": "Use appropriate fungicides.",
"prevention": "Ensure proper pruning."
},

"Grape___healthy": {
"summary": "Grape leaf is healthy.",
"causes": "No disease detected.",
"treatment": "No treatment required.",
"prevention": "Maintain vineyard hygiene."
},

# ===== ORANGE =====
"Orange___Haunglongbing_(Citrus_greening)": {
"summary": "Citrus greening causes yellow mottling and misshapen fruits.",
"causes": "Bacterial infection spread by psyllids.",
"treatment": "Remove infected trees.",
"prevention": "Control insect vectors."
},

# ===== PEACH =====
"Peach___Bacterial_spot": {
"summary": "Bacterial spot causes dark lesions on peach leaves.",
"causes": "Xanthomonas bacteria.",
"treatment": "Apply copper sprays.",
"prevention": "Use resistant varieties."
},

"Peach___healthy": {
"summary": "Peach leaf is healthy.",
"causes": "No disease present.",
"treatment": "No treatment required.",
"prevention": "Good orchard practices."
},

# ===== PEPPER =====
"Pepper,_bell___Bacterial_spot": {
"summary": "Bacterial spot causes water-soaked lesions on pepper leaves.",
"causes": "Xanthomonas bacteria.",
"treatment": "Copper-based sprays.",
"prevention": "Use disease-free seeds."
},

"Pepper,_bell___healthy": {
"summary": "Bell pepper leaf is healthy.",
"causes": "No infection detected.",
"treatment": "No treatment required.",
"prevention": "Balanced fertilization."
},

# ===== POTATO =====
"Potato___Early_blight": {
"summary": "Early blight causes dark concentric rings on potato leaves.",
"causes": "Alternaria solani fungus.",
"treatment": "Apply fungicides.",
"prevention": "Crop rotation."
},

"Potato___Late_blight": {
"summary": "Late blight causes rapid leaf decay and tuber rot.",
"causes": "Phytophthora infestans.",
"treatment": "Immediate fungicide application.",
"prevention": "Avoid wet conditions."
},

"Potato___healthy": {
"summary": "Potato leaf is healthy.",
"causes": "No disease present.",
"treatment": "No treatment required.",
"prevention": "Maintain soil health."
},

# ===== RASPBERRY =====
"Raspberry___healthy": {
"summary": "Raspberry leaf shows no disease symptoms.",
"causes": "Healthy plant.",
"treatment": "No treatment required.",
"prevention": "Proper pruning."
},

# ===== SOYBEAN =====
"Soybean___healthy": {
"summary": "Soybean leaf is healthy.",
"causes": "No disease detected.",
"treatment": "No treatment required.",
"prevention": "Crop monitoring."
},

# ===== SQUASH =====
"Squash___Powdery_mildew": {
"summary": "Powdery mildew causes white powdery spots on squash leaves.",
"causes": "Fungal infection.",
"treatment": "Apply sulfur fungicides.",
"prevention": "Improve airflow."
},

# ===== STRAWBERRY =====
"Strawberry___Leaf_scorch": {
"summary": "Leaf scorch causes purple and brown leaf margins.",
"causes": "Fungal pathogen.",
"treatment": "Remove infected leaves.",
"prevention": "Avoid overcrowding."
},

"Strawberry___healthy": {
"summary": "Strawberry leaf is healthy.",
"causes": "No disease detected.",
"treatment": "No treatment required.",
"prevention": "Proper irrigation."
},

# ===== TOMATO =====
"Tomato___Bacterial_spot": {
"summary": "Bacterial spot causes dark lesions on tomato leaves.",
"causes": "Xanthomonas bacteria.",
"treatment": "Copper sprays.",
"prevention": "Use clean seeds."
},

"Tomato___Early_blight": {
"summary": "Early blight causes brown concentric leaf spots.",
"causes": "Alternaria solani.",
"treatment": "Apply fungicides.",
"prevention": "Crop rotation."
},

"Tomato___Late_blight": {
"summary": "Late blight causes water-soaked lesions and leaf collapse.",
"causes": "Phytophthora infestans.",
"treatment": "Immediate fungicide use.",
"prevention": "Avoid wet foliage."
},

"Tomato___Leaf_Mold": {
"summary": "Leaf mold causes yellow spots on upper leaf surface.",
"causes": "Fungal pathogen.",
"treatment": "Apply fungicides.",
"prevention": "Reduce humidity."
},

"Tomato___Septoria_leaf_spot": {
"summary": "Septoria causes small dark leaf spots.",
"causes": "Septoria lycopersici fungus.",
"treatment": "Apply fungicides.",
"prevention": "Remove infected debris."
},

"Tomato___Spider_mites Two-spotted_spider_mite": {
"summary": "Spider mites cause yellow speckling and webbing.",
"causes": "Mite infestation.",
"treatment": "Use miticides.",
"prevention": "Maintain humidity."
},

"Tomato___Target_Spot": {
"summary": "Target spot causes concentric lesions on leaves.",
"causes": "Fungal infection.",
"treatment": "Fungicide application.",
"prevention": "Good airflow."
},

"Tomato___Tomato_Yellow_Leaf_Curl_Virus": {
"summary": "Yellow leaf curl virus causes leaf curling and yellowing.",
"causes": "Virus transmitted by whiteflies.",
"treatment": "No cure; remove infected plants.",
"prevention": "Control whiteflies."
},

"Tomato___Tomato_mosaic_virus": {
"summary": "Mosaic virus causes mottled leaf appearance.",
"causes": "Viral infection.",
"treatment": "Remove infected plants.",
"prevention": "Disinfect tools."
},

"Tomato___healthy": {
"summary": "Tomato leaf is healthy.",
"causes": "No disease detected.",
"treatment": "No treatment required.",
"prevention": "Proper crop management."
}
}


def generate_disease_report(disease_name):
    disease_name = disease_name.strip()

    if disease_name in DISEASE_INFO:
        return DISEASE_INFO[disease_name]

    # Try removing trailing underscore
    clean_name = disease_name.rstrip("_")
    if clean_name in DISEASE_INFO:
        return DISEASE_INFO[clean_name]

    return None